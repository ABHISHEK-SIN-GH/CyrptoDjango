<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <title>Document</title>
    <style>
      body {
        overflow-y: scroll; /* Add the ability to scroll */
      }

      /* Hide scrollbar for Chrome, Safari and Opera */
      body::-webkit-scrollbar {
        display: none;
      }

      /* Hide scrollbar for IE, Edge and Firefox */
      body {
        -ms-overflow-style: none; /* IE and Edge */
        scrollbar-width: none; /* Firefox */
      }

      table,
      th,
      td {
        border: 2px solid blue;
        border-collapse: collapse;
        padding: 10px;
        text-align: center;
      }
      th {
        background-color: black;
        color: white;
      }
      td {
        background-color: #96d4d4;
      }
    </style>
  </head>
  <body>
    {% load static %}
    <h1 class="text-center p-5 bg-success text-dark font-monospace fw-bold">
      Market Analysis of BTC Cyrpto.
    </h1>

    <div class="mx-auto row mt-4 p-3 bg-dark" style="max-width: 800px">
      <h4 class="text-center fw-bold text-warning p-3">{{info.info}}</h4>
      <hr class="bg-light" />
      <div class="col text-start">
        <p class="fw-bold text-warning">
          Currency Code : <span class="badge bg-dark">{{info.dcc}}</span>
        </p>
        <p class="fw-bold text-warning">
          Currency Name : <span class="badge bg-dark">{{info.dcn}}</span>
        </p>
        <p class="fw-bold text-warning">
          Market Code : <span class="badge bg-dark">{{info.mc}}</span>
        </p>
        <p class="fw-bold text-warning">
          Market Name : <span class="badge bg-dark">{{info.mn}}</span>
        </p>
        <p class="fw-bold text-warning">
          Time Zone : <span class="badge bg-dark">{{info.tz}}</span>
        </p>
        <p class="fw-bold text-warning">
          Last Refreshed : <span class="badge bg-dark">{{info.lrf}}</span>
        </p>
      </div>
      <div class="col text-end d-none d-sm-none d-md-block">
        <img
          src="{% static 'analysis/images/btc.png' %}"
          alt="btc.png"
          class="img-fluid"
          style="max-height: 250px"
        />
      </div>
    </div>

    <h3 class="text-center mt-4 text-primary font-monospace fw-bold">
      Market analysis in last week.
    </h3>

    <div class="overflow-auto mt-4 mb-5">
      <table class="mx-auto w-100">
        <thead>
          <tr>
            <th>Date</th>
            <th>Volume</th>
            <th>Market Cap</th>
            <th>Open</th>
            <th>High</th>
            <th>Low</th>
            <th>Close</th>
          </tr>
        </thead>
        <tbody>
          {% for i in data1 %}
          <tr>
            {% if forloop.counter <= 7 %}
            <td style="background-color: white; color: black">{{i.d}}</td>
            <td>{{i.v}}</td>
            <td>{{i.m}}</td>
            <td style="background-color: #ffdd00">{{i.o}}</td>
            <td style="background-color: #a40606">{{i.c}}</td>
            <td style="background-color: #009ffd">{{i.l}}</td>
            <td style="background-color: #20bf55">{{i.h}}</td>
            {% endif %}
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    <hr />

    <div class="row mx-auto">
      <div class="col-12 col-sm-12 col-md-6">
        <div>
          <h5 class="text-center text-primary font-monospace fw-bold mx-5">
            Market open analysis in past few days
          </h5>
          <canvas class="p-3" id="myCharto"></canvas>
        </div>

        <hr />

        <div>
          <h5 class="text-center text-primary font-monospace fw-bold mx-5">
            Market close analysis in past few days
          </h5>
          <canvas class="p-3" id="myChartc"></canvas>
        </div>

        <hr />
      </div>

      <div class="col-12 col-sm-12 col-md-6">
        <div>
          <h5 class="text-center text-primary font-monospace fw-bold mx-5">
            Market low analysis in last few days
          </h5>
          <canvas class="p-3" id="myChartl"></canvas>
        </div>

        <hr />

        <div>
          <h5 class="text-center text-primary font-monospace fw-bold mx-5">
            Market high analysis in last few days
          </h5>
          <canvas class="p-3" id="myCharth"></canvas>
        </div>

        <hr />
      </div>
    </div>

    <div class="row mx-auto">
      <div class="col-12 col-sm-12 col-md-6">
        <div>
          <h5 class="text-center text-primary font-monospace fw-bold mx-5">
            Market analysis of min of data
          </h5>
          <canvas class="p-3" id="myChart-bmin"></canvas>
        </div>
        <hr />
      </div>

      <div class="col-12 col-sm-12 col-md-6">
        <div>
          <h5 class="text-center text-primary font-monospace fw-bold mx-5">
            Market analysis of max of data
          </h5>
          <canvas class="p-3" id="myChart-bmax"></canvas>
        </div>
        <hr />
      </div>
    </div>

    <div class="row mx-auto">
      <div>
        <h5 class="text-center text-primary font-monospace fw-bold mx-5">
          Market analysis in past few days
        </h5>
        <canvas class="p-3" id="myChartoclh"></canvas>
      </div>
    </div>

    <br />

    <!-- Footer -->
    <footer class="bg-dark text-center text-white">
      <!-- Grid container -->
      <div class="container p-4">
        <!-- Section: Social media -->
        <section class="mb-4">
          <!-- Facebook -->
          <a
            class="btn btn-outline-light btn-floating m-1"
            href="#!"
            role="button"
            ><i class="fab fa-facebook-f"></i
          ></a>

          <!-- Twitter -->
          <a
            class="btn btn-outline-light btn-floating m-1"
            href="#!"
            role="button"
            ><i class="fab fa-twitter"></i
          ></a>

          <!-- Google -->
          <a
            class="btn btn-outline-light btn-floating m-1"
            href="#!"
            role="button"
            ><i class="fab fa-google"></i
          ></a>

          <!-- Instagram -->
          <a
            class="btn btn-outline-light btn-floating m-1"
            href="#!"
            role="button"
            ><i class="fab fa-instagram"></i
          ></a>

          <!-- Linkedin -->
          <a
            class="btn btn-outline-light btn-floating m-1"
            href="#!"
            role="button"
            ><i class="fab fa-linkedin-in"></i
          ></a>

          <!-- Github -->
          <a
            class="btn btn-outline-light btn-floating m-1"
            href="#!"
            role="button"
            ><i class="fab fa-github"></i
          ></a>
        </section>
        <!-- Section: Social media -->

        <!-- Section: Form -->
        <section class="">
          <form action="">
            <!--Grid row-->
            <div class="row d-flex justify-content-center">
              <!--Grid column-->
              <div class="col-auto">
                <p class="pt-2">
                  <strong>Sign up for daily updates</strong>
                </p>
              </div>
              <!--Grid column-->

              <!--Grid column-->
              <div class="col-md-5 col-12">
                <!-- Email input -->
                <div class="form-outline form-white mb-4">
                  <input
                    type="email"
                    id="form5Example21"
                    class="form-control"
                    placeholder="Email address..."
                  />
                </div>
              </div>
              <!--Grid column-->

              <!--Grid column-->
              <div class="col-auto">
                <!-- Submit button -->
                <button type="submit" class="btn btn-outline-light mb-4">
                  Subscribe
                </button>
              </div>
              <!--Grid column-->
            </div>
            <!--Grid row-->
          </form>
        </section>
        <!-- Section: Form -->

        <!-- Section: Text -->
        <section class="mb-4">
          <p style="max-width:700px;" class="mx-auto">
            This Website uses the concept of price patterns from the past
            and technical indicators to analyse the charts and predict the
            future movements in price. This can be applied to any market,
            including cryptocurrencies such as Bitcoin (BTC)
          </p>
        </section>
        <!-- Section: Text -->
      </div>
      <!-- Grid container -->

      <!-- Copyright -->
      <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2)">
        Copyright Â© 2022 All Rights Reserved by : 
        <a class="text-white" href="http://abhishek-portfolio-webapp.herokuapp.com/"
          >AKS</a
        >
      </div>
      <!-- Copyright -->
    </footer>
    <!-- Footer -->

    <script
      src="https://kit.fontawesome.com/7d0ddf9524.js"
      crossorigin="anonymous"
    ></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>

    <script>
      
      var dValues = [];
      var oValues = [];
      var hValues = [];
      var lValues = [];
      var cValues = [];
      
      generateData("{{data|escapejs}}");
      
      function generateData(data) {
        data = JSON.parse(data);
        for (let x = 0; x < 100; x++) {
            oValues.push(data[x]["o"]);
            hValues.push(data[x]["h"]);
            lValues.push(data[x]["l"]);
            cValues.push(data[x]["c"]);
            dValues.push(data[x]["d"]);
        }
      }
      
    </script>

    <script src="{% static 'analysis/js/chart.js' %}"></script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
